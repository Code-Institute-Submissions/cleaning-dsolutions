{% extends 'base.template.html' %}
{% block header %}
<h1>{% block title %}My Profile{% endblock %}</h1>
{% endblock %}
{% block content %}
<div class="container black-border blur-shadow p-3 pt-5 pb-5 mb-5">
	<form method="post" name="form" target="_self">
		<div class="form-group">
			<label for="input-email">Email address</label>
			{% if form %}  
                <input type="email" class="form-control" id="input-email" name="input-email" 
                    placeholder="enter your email" 
                    value="{{form.get('input-email')}}" 
                    readonly/>
			{% else %}
                <input type="email" class="form-control" id="input-email" name="input-email" 
                    placeholder="enter your email" 
                    value="{{current_user.email}}"
                    readonly/>
            {% endif %}
		</div>
		<div class="form-group">
			<label for="input-nickname">Nickname</label>
			{% if form %}
                <input type="nickname" class="form-control" id="input-nickname" name="input-nickname" 
                    aria-describedby="nicknameHelp" placeholder="enter your nickname" 
                    pattern="^(\w| )*[0-9A-Za-z](\w| )*$"
                    value="{{form.get('input-nickname')}}"
                    required />
            {% else %}
                <input type="nickname" class="form-control" id="input-nickname" name="input-nickname" 
                    aria-describedby="nicknameHelp" placeholder="enter your nickname" 
                    pattern="^(\w| )*[0-9A-Za-z](\w| )*$"
                    value="{{current_user.nickname}}"
                    required />
			{%endif %}
			<small id="nicknameHelp" class="form-text text-muted" >This will be the name displayed on the site.</small>
		</div>
		<div class="form-group">
			<label for="input-password" class="mr-sm-2">New Password:</label>
			{% if form %} 
                <input type="password" class="form-control mb-2 mr-sm-2" pattern="^[A-Za-z\d]{8,20}$" 
                    placeholder="Leave this blank if no change to password." id="input-password" name="input-password"
                    value="{{form.get('input-password')}}"
                    aria-describedby="passwordHelpBlock"/>
			{% else %}
                <input type="password" class="form-control mb-2 mr-sm-2" pattern="^[A-Za-z\d]{8,20}$" 
                    placeholder="Leave this blank if no change to password." id="input-password" name="input-password"
                    aria-describedby="passwordHelpBlock"/>
			{% endif %}
            <small id="passwordHelpBlock" class="form-text text-muted">
                Your password must be 8-20 characters long, contain only alphabets and digits. Leave it blank if blank if thee's no change to password.
            </small>
		</div>
		<div class="form-group">
			<label for="input-verify" class="mr-sm-2">Verify:</label>
			{% if form %} 
                <input type="password" class="form-control mb-2 mr-sm-2" pattern="^[A-Za-z\d]{8,20}$" 
                    id="input-verify" name="input-verify" aria-describedby="verifyPasswordBlock"
                    value="{{form.get('input-verify')}}"
                    placeholder="Leave this blank if no change to password." />
			{% else %}
                <input type="password" class="form-control mb-2 mr-sm-2" pattern="^[A-Za-z\d]{8,20}$" 
                    id="input-verify" name="input-verify" aria-describedby="verifyPasswordBlock"
                    placeholder="Leave this blank if no change to password." />
            {% endif %}
		</div>
		<button type="submit" class="btn btn-success btn12">Save</button>
	</form>
</div>
{% endblock %}